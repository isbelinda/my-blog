jQuery(function(t){t(".post-content").fitVids(),t(".js-jump-top").on("click",function(e){e.preventDefault(),t("html, body").animate({scrollTop:0})});var e=window.History,a=!1,n=!1,o=t("#ajax-container"),i=t("#latest-post"),s=t("#post-index");return i.show(),s.hide(),(1===window.location.pathname.indexOf("page")||1===window.location.pathname.indexOf("tag"))&&(i.hide(),s.show()),e.enabled?(e.Adapter.bind(window,"statechange",function(){var r=e.getState();t.get(r.url,function(e){var r=t(e),l=t("#ajax-container",r).contents();document.title=r.filter("title").text(),t("html, body").animate({scrollTop:0}),o.fadeOut(500,function(){i=l.filter("#latest-post"),s=l.filter("#post-index"),n===!0?i.hide():(i.show(),s.hide()),l.fitVids(),o.html(l),o.fadeIn(500),NProgress.done(),a=!1,n=!1})}).fail(function(){NProgress.done(),location.reload()})}),void t("body").on("click",".js-ajax-link, .pagination a, .post-tags a, .post-header a",function(o){if(o.preventDefault(),a===!1){var r=e.getState(),l=t(this).attr("href"),d=t(this).attr("title")||null;if(0===l.indexOf("http://",0)){var f=l.replace(/.*?:\/\//g,""),h=r.url.split("/")[0];l=h+"//"+f}l!==r.url.replace(/\/$/,"")?(a=!0,(t(this).hasClass("js-show-index")||t(this).parent(".pagination").length>0)&&(n=!0),NProgress.start(),e.pushState({},d,l)):t(this).hasClass("js-show-index")?(t("html, body").animate({scrollTop:0}),NProgress.start(),i.fadeOut(300,function(){s.fadeIn(300),NProgress.done()})):(t("html, body").animate({scrollTop:0}),NProgress.start(),s.fadeOut(300,function(){i.fadeIn(300),NProgress.done()}))}})):!1});